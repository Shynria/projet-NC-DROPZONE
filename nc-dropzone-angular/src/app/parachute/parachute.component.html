<!-- LISTE DES PARACHUTES -->

<table class="table table-striped">
    <thead>
        <th>Harnais</th>
        <th>Système de sécurité</th>
        <th>Nom voile principale</th>
        <th>Nom voile de secours</th>
        <th>Taille voile principale</th>
        <th>Taille voile de secours</th>
        <th>Date de pliage</th>
        <th>Etat</th>
        <th>Utilisateur</th>
    </thead>
    <tbody>
        <tr *ngFor="let parachute of parachutes | async">
            <td> {{ parachute.nomHarnais }}</td>
            <td> {{ parachute.systemeSecurite }}</td>
            <td> {{ parachute.nomVoilePrincipale }}</td>
            <td> {{ parachute.nomVoileSecours }}</td>
            <td> {{ parachute.tailleVoilePrincipale }}</td>
            <td> {{ parachute.tailleVoileSecours }}</td>
            <td> {{ parachute.datePliageVoileSecours }}</td>
            <td> {{ (parachute.etat | disponible)}}</td>
            <td>
                <div *ngIf="parachute.utilisateur != null">
                    {{ parachute.utilisateur.nom}}
                </div>
            </td>
            <td><button (click)="editerParachute(parachute)" class="btn btn-warning">Editer</button></td>
            <td><button (click)="supprimerParachute(parachute)" class="btn btn-warning">Supprimer</button></td>
        </tr>
    </tbody>
</table>

<hr>

<!-- FORMULAIRE ADD-->

<button (click)="ouvrirModalAjout()" class="form-control btn btn-success"> ajouter </button>


<modal #modal titre="{{ modalTitre }}">
    <div>
        <div class="form-group">
            <label>Nom du harnais </label>
            <input type="text" [(ngModel)]="formParachute.nomHarnais" class="form-control">
        </div>
        <div class="form-group">
            <label>Système de sécurité </label>
            <select [(ngModel)]="formParachute.systemeSecurite" class="form-control">
                <option value="CYPRESS">CYPRESS</option>
                <option value="VIGIL">VIGIL</option>
            </select>
        </div>
        <div class="form-group">
            <label>Nom de la voile principale </label>
            <input type="text" [(ngModel)]="formParachute.nomVoilePrincipale" class="form-control">
        </div>
        <div class="form-group">
            <label>Nom de la voile de secours </label>
            <input type="text" [(ngModel)]="formParachute.nomVoileSecours" class="form-control">
        </div>
        <div class="form-group">
            <label>Taille de la voile principale </label>
            <input type="number" [(ngModel)]="formParachute.tailleVoilePrincipale" class="form-control">
        </div>
        <div class="form-group">
            <label>Taille de la voile de secours </label>
            <input type="number" [(ngModel)]="formParachute.tailleVoileSecours" class="form-control">
        </div>
        <div class="form-group">
            <label>Date de pliage de la voile de secours </label>
            <input type="date" [(ngModel)]="formParachute.datePliageVoileSecours" class="form-control">
        </div>
        <hr>
        <button *ngIf="!edit" (click)="ajouterParachute()" class="form-control btn btn-success"> ajouter </button>
        <button *ngIf="edit" (click)="modifierParachute()" class="form-control btn btn-warning"> Modifier </button>
    </div>
</modal>