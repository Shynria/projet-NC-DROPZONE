<div class="container">
    <h4>Inscription à un saut: </h4>

    <div>
        <label>Hauteur du saut :</label>
        <select name="hauteur" id="hauteur" [(ngModel)]="formSaut.hauteur">
            <option value="MILLE_DEUX_CENTS">1 200 m</option>
            <option value="MILLE_SIX_CENTS">1 600 m</option>
            <option value="DEUX_MILLES">2 000 m</option>
            <option value="DEUX_MILLES_CINQ_CENTS">2 500 m</option>
            <option value="QUATRE_MILLES">4 000 m</option>
            <option value="SIX_MILLES">6 000 m</option>
        </select>
    </div>

    <div>
        <label>Taille du groupe</label>
        <input type="number" [(ngModel)]="tailleGroupe">
    </div>
    <table class="table">
        <thead style="text-align: center;">
            <tr>
                <th>Nom</th>
                <th>Choisir un parachute :</th>
            </tr>
        </thead>
        <tbody style="text-align: center;">
            <ng-template #rt let-r="result" let-t="term"> <!-- pour generer la liste sous le typehead -->
                <span>{{ r.nom }} {{ r.prenom }}</span>
            </ng-template>
            <tr *ngFor="let temp of counter(tailleGroupe); let i = index"> <!-- counter -> function pour generer un tableau de taille: tailleGroupe (voir component) -->
                <td>
                    <div>
                        <label for="typeahead-basic">Nom :</label>
                        <input id="typeahead-basic" type="text" [(ngModel)]="formSaut.parachutistes[i]" [ngbTypeahead]="search" [inputFormatter]="formatter" [resultTemplate]="rt"/>
                    </div>
                </td>
                <td>
                    <div class="d-grid gap-2 d-md-block">
                        <div ngbDropdown class="d-inline-block">
                            <button class="btn btn-success" id="dropdownBasic1" ngbDropdownToggle>Personnel</button>

                            <!-- <div ngbDropdownMenu aria-labelledby="dropdownBasic1" *ngFor="let parachute of parachutes">
                                <button ngbDropdownItem>{{ parachute.nomHarnais }}, {{ parachute.etat }}</button>
                            </div> -->
                        </div>
                    </div>
                    <div ngbDropdown class="d-inline-block">
                        <button class="btn btn-primary" id="dropdownBasic1" ngbDropdownToggle>Club</button>

                        <!-- <div ngbDropdownMenu aria-labelledby="dropdownBasic1" *ngFor="let parachute of parachutes">
                            <button ngbDropdownItem>{{ parachute.nomHarnais }}, {{ parachute.etat }}</button>
                        </div> -->

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <div>
        <button (click)="ajouterSaut()">Sauter!</button>
    </div>
</div>

<modal #modal titre="Liste des parachutes">
    <table class="table table-striped">
        <thead>
            <tr style="text-align: center;">
                <th>Harnais</th>
                <th>Système de sécurité</th>
                <th>Voile principale</th>
                <th>Voile de secours</th>
                <th>Etat</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <!-- <tr *ngFor="let p of parachutes" style="text-align: center;">
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr> -->
        </tbody>
    </table>
</modal>